'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getDisplayName = require('./getDisplayName');

var _getDisplayName2 = _interopRequireDefault(_getDisplayName);

var _defaultIdentifier = require('./defaultIdentifier');

var _defaultIdentifier2 = _interopRequireDefault(_defaultIdentifier);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var identity = function identity(v) {
  return v;
};

var defaultEmptyObject = {};

function createMapStateToProps(reducerName) {
  var identifier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _defaultIdentifier2.default;
  var structuredSelector = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : identity;

  function withIdentity(state, ownProps) {
    var reducerState = state[reducerName] || defaultEmptyObject;
    var identity = identifier(ownProps);
    return structuredSelector(reducerState[identity] || defaultEmptyObject, ownProps);
  }

  if (process.env.NODE_ENV !== 'production') {
    var structuredSelectorName = (0, _getDisplayName2.default)(structuredSelector, 'actionCreator');
    withIdentity.displayName = 'withIdentity(' + structuredSelectorName + ')';
  }

  return withIdentity;
}

exports.default = createMapStateToProps;